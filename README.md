
# MPI Matrix Multiplication in C#

Этот проект реализует умножение матриц с использованием библиотеки MPI (Message Passing Interface) на языке C#. Программа распределяет вычисления между несколькими процессами, что позволяет эффективно использовать многопоточность и ускорять операции над большими матрицами.

## Описание

Программа выполняет умножение двух матриц:

- **matrixA** (размером 100x100)
- **matrixB** (размером 100x100)
- Результат хранится в **matrixC** (размером 100x100)

Процесс делится на несколько этапов:

1. **Инициализация**: Процесс с рангом 0 инициализирует матрицы `matrixA` и `matrixB`, заполняя их значениями.
2. **Рассылка матриц**: Процесс 0 отправляет матрицы всем другим процессам.
3. **Вычисление**: Каждый процесс вычисляет часть результирующей матрицы `matrixC`, основываясь на своей подсетке строк матрицы `matrixA`.
4. **Сбор результата**: Процесс 0 собирает результаты от всех других процессов и выводит окончательную матрицу.

## Установка

Чтобы запустить этот проект, необходимо:

1. Установить .NET SDK (версия 6.0 или выше).
2. Установить MPI для .NET, следуя инструкциям на [официальном сайте Microsoft MPI](https://learn.microsoft.com/en-us/message-passing-interface/microsoft-mpi).
3. Создать новый проект C# и добавить ссылку на `MPI.dll`.

## Запуск

Для запуска программы выполните следующие шаги:

1. Скомпилируйте проект:
   ```bash
   dotnet build
   ```

2. Запустите программу с использованием MPI:
   ```bash
   mpiexec -n <number_of_processes> dotnet run
   ```
   Замените `<number_of_processes>` на желаемое количество процессов.

## Код

Вот основные части кода:

- **Инициализация матриц**:
    ```csharp
    for (int i = 0; i < rowsA; i++)
    {
        for (int j = 0; j < colsA; j++)
        {
            matrixA[i * colsA + j] = countA++; // Заполнение матрицы A
        }
    }
    ```

- **Отправка и получение данных**:
    ```csharp
    communicator.Send(item, i, 0); // Отправка элемента матрицы
    matrixA[i * colsA + j] = communicator.Receive<int>(0, 0); // Получение элемента матрицы
    ```

- **Вычисление матричного произведения**:
    ```csharp
    for (int i = startRow; i < endRow; i++)
    {
        for (int j = 0; j < colsB; j++)
        {
            matrixC[i * colsB + j] = 0;
            for (int k = 0; k < colsA; k++)
            {
                matrixC[i * colsB + j] += matrixA[i * colsA + k] * matrixB[k * colsB + j];
            }
        }
    }
    ```

## Примечания

- Для корректной работы необходимо, чтобы количество процессов было делителем количества строк в `matrixA`.
- Программа использует `Stopwatch` для измерения времени выполнения.

